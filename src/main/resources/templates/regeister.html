<!-- src/main/resources/templates/regeister.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>User Registration</title>
</head>
<body>
<h2>User Registration</h2>
<form id="userForm">
    <div>
        <label for="userid">User ID:</label>
        <input type="text" id="userId" name="userId" required>
    </div>
    <div>
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>
    </div>
    <div>
        <label for="phoneNumber">Phone Number:</label>
        <input type="text" id="phoneNumber" name="phoneNumber" required>
    </div>
    <div>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
    </div>
    <div>
        <label for="address">Address:</label>
        <input type="text" id="address" name="address" required>
    </div>
    <div>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
    </div>
    <div>
        <label for="gender">Gender:</label>
        <select id="gender" name="gender" required>
            <option value="M">Male</option>
            <option value="F">Female</option>
        </select>
    </div>
    <div>
        <label for="birthDate">Birth Date:</label>
        <input type="date" id="birthDate" name="birthDate" required>
    </div>
    <button type="submit">Submit</button>
</form>

<script>
    document.getElementById('userForm').addEventListener('submit', function(e) {
        e.preventDefault();

        const userData = {
            user_id: document.getElementById('userId').value, // Changed from userId to user_id
            password: document.getElementById('password').value,
            phone: document.getElementById('phoneNumber').value, // Changed from phoneNumber to phone
            email: document.getElementById('email').value,
            address: document.getElementById('address').value,
            name: document.getElementById('name').value,
            gender: document.getElementById('gender').value,
            birthdate: document.getElementById('birthDate').value, // Changed from birthDate to birthdate
        };
        fetch('api/register', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(userData)
        })
            .then(response => response.json())
            .then(data => {
                alert('User registered successfully!');
                document.getElementById('userForm').reset();
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Error registering user');
            });
    });
</script>
</body>
</html>